# 命令
## 查看硬件信息
```bash
lscpu 与 cat /proc/cpuinfo 
free -m
lsblk
lspci | grep -i 'eth'
```
[更进一步](http://www.cnblogs.com/ggjucheng/archive/2013/01/14/2859613.html)
## >与>>
```bash
echo a>a.txt  # 覆盖
echo a>>a.txt  # 追加
```

## w
当前用户与正在执行的命令

## alias 别名
``` bash
alias copy='cp'
```
方便的把不好记的，长的命令转为好记的，短的命令。
比如我的 `Pycharm` 打开命令就是：
``` bash
alias pycharm=./pycharm-2016.1/bin/pycharm.sh
```
这个命令只存在于这个终端的生存期。永久保存可将这个命令放在`~/.bashrc`文件内。

## pip
最近网络抽风，pip安装总是时好时坏。这时候，可以换用国内的源。中科大的源就很好，关键是他有ipv6。速度快，不走校园流量。

```bash
pip install flask -i http://pypi.mirrors6.ustc.edu.cn/simple/
```

上面地址中去掉6即为ipv4地址。
其他可用源[豆瓣](http://pypi.douban.com/) [华中理工大学](http://pypi.hustunique.com/)


PS: 中科大对开源的支持好棒啊。。不像我们。。哎。。想去中科大。。残念啊
PS: 原生Hexo竟然不支持注脚 = = 悲伤。

## ls 最常用的列表命令


|参数|含义|
|---|---|
|-a	|–all 列出目录下的所有文件，包括以 . 开头的隐含文件|
|-l	|除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来|
|-d	|–directory 将目录象文件一样显示，而不是显示其下的文件|
|-h	|–human-readable 以容易理解的格式列出文件大小 (例如 1K 234M 2G)|
|-t	|以文件修改时间排序|


例子:
``` bash
# 列出/home 文件夹下的所有文件和目录的详细资料
ls -al /home
#列出当前目录中所有以”d”开头的文件目录的详细内容
ls  d*
```

## cd = change directory 切换目录

|参数|描述|
|---|---|
|~|当前用户主目录|
|-|上传访问目录|
|/|系统根目录|
|..|父目录|

## pwd = print working directory  当前工作目录 的完整路径

## mkdir 创建目录

|参数|描述|
|---|---|
|-m|模式(权限)|
|-p|递归创建目录|
|-v|显示提示|

## rm  删除

|参数|描述|
|---|---|
|-f |--force	忽略不存在的文件，从不给出提示|
|-i |--interactive	进行交互式删除|
|-r |--recursive	指示 rm 将参数中列出的全部目录和子目录均递归地删除|
|-v| --verbose	详细显示进行的步骤|

## mv  移动文件/更改文件名

第二个参数是文件 重命名 第二个参数是文件夹 移动

|参数|描述|
|---|---|
|-b |--back	若需覆盖文件，则覆盖前先行备份|
|-f |--force	如果目标文件已经存在，不会询问而直接覆盖|
|-i |--interactive	若目标文件已经存在时，就会询问是否覆盖|
|-u |--update	若目标文件已经存在，且源文件比较新，才会更新|
|-t |--target	该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后|

## cp 复制

|参数|描述|
|---|---|
|-t |--target-directory	指定目标目录|
|-i |--interactive	覆盖前询问(使前面的 -n 选项失效)|
|-n |--no-clobber	不要覆盖已存在的文件(使前面的 -i 选项失效)|
|-s |--symbolic-link	对源文件建立符号链接，而非复制文件|
|-f |--force	强行复制文件或目录， 不论目的文件或目录是否已经存在|
|-u| --update	使用这项参数之后，只会在源文件的修改时间较目的文件更新时，或是对应的目的文件并不存在，才复制文件|

## cat = concatenate 显示

tac 反向显示

|参数|描述|
|---|---|
|-A |--show-all	等价于 -vET|
|-b |--number-nonblank	对非空输出行编号|
|-e	|等价于 -vE|
|-E |--show-ends	在每行结束处显示 $|
|-n |--number	对输出的所有行编号,由 1 开始对所有输出的行数编号|
|-s |--squeeze-blank	有连续两行以上的空白行，就代换为一行的空白行|
|-t	|与 -vT 等价|
|-T |--show-tabs	将跳格字符显示为 ^I|
|-u	|(被忽略)|
|-v |--show-nonprinting	使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外|

``` bash
# 将a.log 内容和行号输入到 b.log
cat -n a.log > b.log
# 将a.log 内容和行号输入到 b.log 多行空白换成一行
cat -ns a.log > b.log
```

## nl = number of lines  行号

|参数|描述|
|---|---|
|-b	|指定行号指定的方式，主要有两种：|
|-b a	|表示不论是否为空行，也同样列出行号(类似 cat -n)|
|-b t	|如果有空行，空的那一行不要列出行号(默认值)|
|-n	|列出行号表示的方法，主要有三种：|
|-n ln	|行号在屏幕的最左方显示|
|-n rn	|行号在自己栏位的最右方显示，且不加 0|
|-n rz	|行号在自己栏位的最右方显示，且加 0|
|-w	|行号栏位的占用的位数|

## more 显示文件

|参数|描述|
|---|---|
|+n	|从笫 n 行开始显示|
|-n	|定义屏幕大小为 n 行|
|+/pattern	|在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示|
|-c	|从顶部清屏，然后显示|
|-d	|提示“Press space to continue，’q’ to quit”，禁用响铃功能|
|-p	|通过清除窗口而不是滚屏来对文件进行换页，与-c 选项相似|
|-s	|把连续的多个空行显示为一行|
|-u	|把文件内容中的下划线去掉|

|操作|描述|
|---|---|
|=	|输出当前行的行号|
|q	|退出 more|
|空格键	|向下滚动一屏|
|b	|返回上一屏|

## less 显示文件

|参数|描述|
|---|---|
|-e	|当文件显示结束后，自动离开|
|-f	|强迫打开特殊文件，例如外围设备代号、目录和二进制文件|
|-i	|忽略搜索时的大小写|
|-m	|显示类似 more 命令的百分比|
|-N	|显示每行的行号|
|-s	|显示连续空行为一行|

|操作|描述|
|---|---|
|/字符串	|向下搜索“字符串”的功能|
|?字符串	|向上搜索“字符串”的功能|
|n	|重复前一个搜索（与 / 或 ? 有关）|
|N	|反向重复前一个搜索（与 / 或 ? 有关）|
|b	|向前翻一页|
|d	|向后翻半页|
|q	|退出 less 命令|
|空格键	|向后翻一页|
|向上键	|向上翻动一行|
|向下键	|向下翻动一行|


## head 显示文件头

|参数|描述|
|---|---|
|-q	|隐藏文件名|
|-v	|显示文件名|
|-c<字节>	|显示字节数|
|-n<行数>	|显示的行数|



## tail 显示文件尾

|参数|描述|
|---|---|
|-f	|循环读取|
|-q	|不显示处理信息|
|-v	|显示详细的处理信息|
|-c<字节>	|显示的字节数|
|-n<行数>	|显示行数|

## which 确认是否安装指定软件
which 命令的作用是，在 PATH 变量指定的路径中搜索可执行文件的所在位置
``` bash
# 确认是否安装GCC
which gcc
```

## whereis 定位
在一个数据库中（/var/lib/mlocate/,每天更新,所以最新文件可能查不到）查询,速度很快

|参数|描述|
|---|---|
|- -b	|定位可执行文件|
|- -m	|定位帮助文件|
|- -s	|定位源代码文件|
|-u |搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件|
|-B | 指定搜索可执行文件的路径|
|-M | 指定搜索帮助文件的路径|
|-S |指定搜索源代码文件的路径|

``` bash
# 搜索 gcc 可执行文件的路径
whereis -b gcc
```

## locate 更强大的定位
与`whereis`使用同样的数据库.不过命令更强大.

|参数|描述|
|---|---|
|-q	|安静模式，不会显示任何错误讯息|
|-n	|至多显示 n 个输出|
|-r	|使用正规表达式做寻找的条件|
|-V|	显示版本讯息|

## wc = word count 字数统计

|参数|描述|
|---|---|
|-c	|统计字节数|
|-l	|统计行数|
|-m	|统计字符数，这个标志不能与 -c 标志一起使用|
|-w	|统计单词数，一个单词被定义为由空白、跳格或换行字符分隔的字符串|
|-L	|打印最长行的长度|

``` bash
# 统计/bin 目录下的命令个数
ls /bin | wc -l
```

## grep
grep 通过返回一个状态值来说明搜索的状态，如果模板搜索成功，则返回 0，如果搜索不成功，则返回 1，如果搜索的文件不存在，则返回 2。
``` bash
grep [选项] pattern [file]
```

|参数|描述|
|---|---|
|-c	|计算找到 '搜寻字符串'(即 pattern) 的次数|
|-i	|忽略大小写的不同，所以大小写视为相同|
|-n	|输出行号|
|-v	|反向选择，打印不匹配的行|
|-r	|递归搜索|
|--color=auto	|将找到的关键词部分加上颜色显示|

因为 grep 会把`.`当成 shell 通配符，不是正则表达式的元字符。所以正则匹配通常会加参数`-E`.

## cut 将文本按列进行切分,可以指定分隔每列的定界符

|参数|描述|
|---|---|
|-b	|以字节为单位进行分割|
|-c	|以字符为单位进行分割|
|-d	|自定义分隔符，默认为制表符|
|-f	|自定义字段|
|--complement	|抽取整个文本行，除了那些由 -c 或 -f 选项指定的文本|

``` bash
# 取1,3列
cut -f 1,3 -d ' ' student.txt
# 取1到3列
cut -f 1-3 -d  ' ' student.txt
```

## paste
读取多个文件，然后把每个文件中的字段整合成单个文本流，输入到标准输出。

|参数|描述|
|---|---|
|-s	|将每个文件合并成行而不是按行粘贴|
|-d|	自定义分隔符，默认为制表符|

## join 和 paste类似  合并相同行

|选项	|说明|
|---|---|
|-t	|指定分隔符，默认为空格|
|-i	|忽略大小写的差异|
|-1	|指明第一个文件要用哪个字段来对比，，默认对比第一个字段|
|-2	|指明第二个文件要用哪个字段来对比，，默认对比第一个字段|

## tr =  translate
常被用来更改字符。我们可以把它看作是一种基于字符的查找和替换操作。换字是一种把字符从一个字母转换为另一个字母的过程。`tr `从标准输入中替换、缩减和 / 或删除字符，并将结果写到标准输出。

`tr` 只能通过 `stdin`（标准输入），而无法通过命令行参数来接受输入。

|参数|描述|
|---|---|
|-d|	删除匹配 SET1 的内容，并不作替换|

``` bash
# 将输入的字符大写转换为小写
echo 'THIS IS SHIYANLOU!' | tr ‘A-Z’ ‘a-z’
# 将输入的字符中的数字删除
echo 'THIS 123 IS S1HIY5ANLOU!' | tr -d ‘0-9’
```

## comm 比较
comm 命令将逐行比较已经排序的两个文件。显示结果包括 3 列：
- 第 1 列为只在第一个文件中找到的行
- 第 2 列为只在第二个文件中找到的行
- 第 3 列为两个文件的共有行


|参数|	描述|
|---|---|
|-1	|不输出文件 1 特有的行|
|-2	|不输出文件 2 特有的行|
|-3	|不输出两个文件共有的行|

## diff =  differential  更复杂的显示差异命令

|参数|	描述|
|---|---|
|-c|	上下文模式，显示全部内文，并标出不同之处|
|-u|	统一模式，以合并的方式来显示文件内容的不同|
|-a|	只会逐行比较文本文件|
|-N|	在比较目录时，若文件 A 仅出现在某个目录中，预设会显示：Only in 目录。 若使用-N 参数，则 diff 会将文件 A 与一个空白的文件比较|
|-r|	递归比较目录下的文件|

从例子出发:

[[/linux/pic/diff-1.png]]

这是 diff 的 normal 显示格式

[[/linux/pic/diff-2.png]]

**所有操作目的是将第一个文件变成第二个文件.**
那么上图的含义就很好理解了:

第二行删除一行,讲第4,5行改为3,5行.

|提示| 含义|
|---|---|
|a | add|
|c | change|
|d | delete|

这是 diff 的 上下文 显示格式:
[[/linux/pic/diff-3.png]]

|提示| 含义|
|---|---|
|＋ |添加行|
|－ |删除行|
|！ |更改行|

这是 diff 的 统一 显示格式:

[[/linux/pic/diff-4.png]]

|提示| 含义|
|---|---|
|＋| 添加行|
|－ |删除行|

## patch 打补丁

|参数|	描述|
|---|---|
|-p num	|忽略几层文件夹|
|-E	|如果发现了空文件，那么就删除它|
|-R|	取消打过的补丁|

用上面的例子继续:
[[/linux/pic/patch.png]]

## df = disk free 查看磁盘剩余容量

|参数	|描述|
|---|---|
|-a	|全部文件系统列表|
|-h	|方便阅读方式显示|
|-i	|显示 inode 信息|
|-T|	文件系统类型|
|-t<文件系统类型>	|只显示选定文件系统的磁盘信息|
|-x<文件系统类型>	|不显示选定文件系统的磁盘信息|

## du = disk usage

|参数|	描述|
|---|---|
|-a	|显示目录中个别文件的大小。|
|-b	|显示目录或文件大小时，以 byte 为单位。|
|-c	|除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。|
|-k	|以 KB(1024bytes)为单位输出。|
|-m	|以 MB 为单位输出。|
|-s	|仅显示总计，只列出最后加总的值。|
|-h	|以 K，M，G 为单位，提高信息的可读性|

``` bash
# 按照空间大小逆序排序显示
du  -h  | sort -nr | head -10
```

## time

- 实际使用时间（real time）: 从 command 命令行开始执行到运行终止的时间。
- 用户态使用时间（the process spent in user mode）：命令执行完成花费的用户 CPU 时间，即命令在用户态中执行时间总和。
- 内核态使用时间（the process spent in kernel mode）：命令执行完成花费的系统 CPU 时间，即命令在核心态中执行时间总和。


time 是 shell 的关键字，shell 做了特殊处理，它会把 time 命令后面的命令行作为一个整体来进行处理，在重定向时，实际上是针对后面的命令来的，time 命令本身的输出并不会被重定向的。比如，执行 time date 2>3.txt，3.txt 内容为空。另外，time 命令的输出信息是打印在标准错误输出上的。

## 查看线程

``` bash
ps -T -p <pid>
top -H -p <pid>
htop
```

## sort 排序

## uniq 去重

## col tab/space 转换

|选项	|说明|
|---|---|
|-x	|将Tab转换为空格|
|-h	|将空格转换为Tab（默认选项）|

## 查看硬件

## iwconfig 查看网卡信息

## find 查找
格式:
```bash
find pathname -options [-print -exec -ok ...]
```

|参数| 含义| 其他|
|---|---|---|
|pathname| find命令所查找的目录路径。||
|-name  | 按照文件名查找文件。||
|-perm   |按照文件权限来查找文件。||
|-prune | 使用这一选项可以使find命令不在当前指定的目录中查找，|如果同时使用-depth选项，那么-prune将被find命令忽略。|
|-user|   按照文件属主来查找文件。||
|-group | 按照文件所属的组来查找文件。||
|-mtime -n +n  |按照文件的更改时间来查找文件，| - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。|
|-nogroup  |查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。|
|-nouser |  查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。|
|-newer file1 ! file2 | 查找更改时间比文件file1新但比文件file2旧的文件。|
|-type  查找某一类型的文件|
b - 块设备文件。
d - 目录。
c - 字符设备文件。
p - 管道文件。
l - 符号链接文件。
f - 普通文件。|
|-size n：[c]| 查找文件长度为n块的文件，带有c时表示文件长度以字节计。||
|-depth|在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。||
|-fstype|查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。||
|-mount|在查找文件时不跨越文件系统mount点。||
|-follow|如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。||
|-cpio|对匹配的文件使用cpio命令，将这些文件备份到磁带设备中。||

另外,下面几个的区别:

- -amin n   查找系统中最后N分钟访问的文件
- -atime n  查找系统中最后n*24小时访问的文件
- -cmin n   查找系统中最后N分钟被改变文件状态的文件
- -ctime n  查找系统中最后n*24小时被改变文件状态的文件
- -mmin n   查找系统中最后N分钟被改变文件数据的文件
- -mtime n  查找系统中最后n*24小时被改变文件数据的文件

## 参考资料

\<\<鸟哥的Linux私房菜\>\> 我是从这本书开始学的

[实验楼:Linux命令实例练习](https://www.shiyanlou.com/courses/68) 恩,我就着这个过了一遍命令.

[coolshell:应该知道的Linux技巧](http://coolshell.cn/articles/8883.html)

[coolshell:你可能不知道的Shell](http://coolshell.cn/articles/8619.html)

[28个Unix/Linux的命令行神器](http://coolshell.cn/articles/7829.html)

[每天一个linux命令](http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html)

[LINUX SHELL脚本攻略笔记\[速查\] ](http://www.wklken.me/posts/2013/07/04/note-of-linux-shell-scripting-cookbook.html#_4)

[常用linux系统监控命令](http://songlee24.github.io/2015/09/05/linux-monitor-tools/)